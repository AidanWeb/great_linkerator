To-do:
- Hook up user routines [DONE]
- Check public routines by activity
- Fix UNIQUE issue on adding activity to routine

TOKEN: 
    adubs: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwidW4iOiJhZHVicyIsImlhdCI6MTU5MzA2MDU2N30.BJqrI405lQ4nz-gNbsCIQuomuvxE0WDoq7sUHMJZaH4

    bdubs: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MiwidW4iOiJiZHVicyIsImlhdCI6MTU5MTU4ODE0OH0.Sq_101CnTazodh2dbN0KkEeFK_4xl4PPdekW4zgRw3w

Users:

    Register: 
    curl http://localhost:3000/api/users/register -H 'Content-Type: application/json' POST -d '{"username": "adubs2", "password": "password2"}'

    login: 
    curl http://localhost:3000/api/users/login -H "Content-Type: application/json" POST -d '{"username": "adubs", "password": "password1"}'

    User Routines: 
    curl http://localhost:3000/api/users/adubs/routines 

Activities: 

    GET activities:
    curl http://localhost:3000/api/activities

    POST activities:
    curl http://localhost:3000/api/links -X POST -H 'Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwidW4iOiJhZHVicyIsImlhdCI6MTU5MzA2MDU2N30.BJqrI405lQ4nz-gNbsCIQuomuvxE0WDoq7sUHMJZaH4' -H 'Content-Type: application/json' -d '{"link": "https://www.linkedin.com", "comment": "Popular networking app for business"}'

    POST tag to link:
    curl http://localhost:3000/api/links/2 -X POST -H 'Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwidW4iOiJhZHVicyIsImlhdCI6MTU5MzA2MDU2N30.BJqrI405lQ4nz-gNbsCIQuomuvxE0WDoq7sUHMJZaH4' -H 'Content-Type: application/json' -d '{"tagId": ""}'

    PATCH activities:
    curl http://localhost:3000/api/activities/5 -X PATCH -H 'Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwidW4iOiJhZHVicyIsImlhdCI6MTU5MTQ3MjEzMn0.BXLrOqtTJ-IefUsR0lXMorI4oyLEzo3iWZNqAwv83LQ' -H 'Content-Type: application/json' -d '{"name": "Walking", "description": "Walk"}'

    GET routines by activity:
    curl http://localhost:3000/api/activities/1/routines

Routines: 

    GET Routines
    curl http://localhost:3000/api/routines

    POST routine:
    curl http://localhost:3000/api/routines -X POST -H 'Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwidW4iOiJhZHVicyIsImlhdCI6MTU5MTQ3MjEzMn0.BXLrOqtTJ-IefUsR0lXMorI4oyLEzo3iWZNqAwv83LQ' -H 'Content-Type: application/json' -d '{"public": "true", "name": "Test routine a second time", "goal": "testing the db take 2"}'

    POST add activity to routine:
    curl http://localhost:3000/api/routines/2/activities -X POST -H 'Content-Type: application/json' -d '{"activityId": "1", "duration": "25", "count": "1"}'

    PATCH routines:
    curl http://localhost:3000/api/routines/1 -X PATCH -H 'Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwidW4iOiJhZHVicyIsImlhdCI6MTU5MTQ3MjEzMn0.BXLrOqtTJ-IefUsR0lXMorI4oyLEzo3iWZNqAwv83LQ' -H 'Content-Type: application/json' -d '{"public": "false", "name": "Updated Routine", "goal": "To update a routine"}'

    DELETE Routine:
    curl http://localhost:3000/api/routines/1 -X DELETE -H 'Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwidW4iOiJhZHVicyIsImlhdCI6MTU5MTQ3MjEzMn0.BXLrOqtTJ-IefUsR0lXMorI4oyLEzo3iWZNqAwv83LQ'

Routine_Activities:
    
    PATCH: 
    curl http://localhost:3000/api/routine_activities/1 -X PATCH -H 'Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwidW4iOiJhZHVicyIsImlhdCI6MTU5MTQ3MjEzMn0.BXLrOqtTJ-IefUsR0lXMorI4oyLEzo3iWZNqAwv83LQ' -H 'Content-Type: application/json' -d '{"count": "5", "duration": "5"}'

    DELETE:
    curl http://localhost:3000/api/routine_activities/2 -X DELETE -H 'Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MiwidW4iOiJiZHVicyIsImlhdCI6MTU5MTU4ODE0OH0.Sq_101CnTazodh2dbN0KkEeFK_4xl4PPdekW4zgRw3w'


SELECT * FROM routine_activities
JOIN routines
ON routine_activities."routineId" = routines.id
JOIN activities
ON routine_activities."activityId" = activities.id
WHERE public='true';

For each routine we want to return an array of activities(objects) and add the array to the routine object